{
  "server": {
    "name": "code-signing-mcp",
    "version": "1.1.0",
    "description": "Multi-provider code signing MCP server",
    "port": 8080,
    "host": "0.0.0.0",
    "log_level": "INFO"
  },

  "providers": {
    "default": "noosphere",

    "noosphere": {
      "enabled": true,
      "demo_mode": false,
      "c2pa_service_url": "http://127.0.0.1:5002",
      "did_service_url": "http://127.0.0.1:5002",
      "vc_service_url": "http://127.0.0.1:5002",
      "api_key": "${NOOSPHERE_API_KEY}",
      "default_policy": "enterprise",
      "_comment": "For production, use https://artifact-service.noosphere.tech"
    },

    "signpath": {
      "enabled": true,
      "demo_mode": true,
      "connector_url": "https://app.signpath.io",
      "organization_id": "${SIGNPATH_ORG_ID}",
      "api_token": "${SIGNPATH_API_TOKEN}",
      "project_slug": "default",
      "signing_policy_slug": "release-signing",
      "_comment": "Set demo_mode to false and provide credentials for production"
    },

    "sigstore": {
      "enabled": true,
      "demo_mode": true,
      "use_production": true,
      "oidc_issuer": "https://oauth2.sigstore.dev/auth",
      "_comment": "Set demo_mode to false for real Sigstore keyless signing"
    },

    "local": {
      "enabled": true,
      "key_path": "./keys/signing.pem",
      "key_password": null,
      "key_type": "ed25519",
      "tsa_url": "http://timestamp.digicert.com",
      "generate_if_missing": true
    }
  },

  "security": {
    "authentication": {
      "required": true,
      "methods": ["api_key"],
      "api_key_header": "X-API-Key"
    },
    "authorization": {
      "enabled": true,
      "default_role": "user",
      "roles": {
        "admin": {
          "permissions": ["*"]
        },
        "user": {
          "permissions": [
            "sign_binary", "sign_package", "verify_signature",
            "compare_providers", "get_provider_info", "list_credentials"
          ]
        }
      }
    },
    "rate_limiting": {
      "enabled": true,
      "requests_per_minute": 100,
      "burst_allowance": 10
    },
    "audit": {
      "enabled": true,
      "log_all_operations": true,
      "log_file": "./logs/audit.log",
      "retention_days": 90
    }
  },

  "policies": {
    "default_policy_set": "standard",
    "policy_sets": {
      "standard": {
        "require_timestamp": false,
        "allow_self_signed": true,
        "min_key_size": 2048,
        "allowed_algorithms": ["SHA256", "SHA384", "SHA512"]
      },
      "enterprise": {
        "require_timestamp": true,
        "allow_self_signed": false,
        "min_key_size": 2048,
        "allowed_algorithms": ["SHA256", "SHA384", "SHA512"],
        "require_certificate_chain": true,
        "require_hsm_for_critical": true
      }
    }
  },

  "c2pa": {
    "enabled": true,
    "default_embed": true,
    "supported_formats": ["jpg", "jpeg", "png", "webp", "pdf", "mp4"]
  },

  "attestations": {
    "slsa": {
      "enabled": true,
      "default_level": "3"
    },
    "in_toto": {
      "enabled": true
    }
  },

  "github": {
    "integration": {
      "enabled": false,
      "webhook_secret": "${GITHUB_WEBHOOK_SECRET}",
      "auto_sign_releases": true
    },
    "api": {
      "token": "${GITHUB_TOKEN}"
    }
  },

  "monitoring": {
    "metrics": {
      "enabled": true,
      "endpoint": "/metrics"
    },
    "health_check": {
      "enabled": true,
      "endpoint": "/health"
    }
  },

  "storage": {
    "temp_dir": "./tmp",
    "cache_dir": "./cache",
    "cache_ttl": 3600
  },

  "trust_graph": {
    "url": "http://localhost:8085",
    "default_trust_root": "did:web:yourcompany.com",
    "max_depth": 5
  }
}
